name: Compilar GameMode SA-MP

on:
  push:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Baixar reposit√≥rio
      uses: actions/checkout@v4

    - name: Baixar SA-MP 0.3.7 Server
      run: |
        wget https://files.sa-mp.com/samp037svr_R2-1.tar.gz
        tar -xzf samp037svr_R2-1.tar.gz

    - name: Compilar GameMode
      run: |
        chmod +x samp03/pawno/pawncc
        samp03/pawno/pawncc gm_mobile.pwn \
        -i samp03/pawno/include \
        -o gm_mobile.amx

    - name: Enviar AMX compilado
      uses: actions/upload-artifact@v4
      with:
        name: gamemode-amx
        path: gm_mobile.amx
